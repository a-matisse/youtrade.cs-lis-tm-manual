# Руководство для управления автоматической торговлей с помощью сервиса `youtrade.cs`

Добро пожаловать! Это руководство — не просто мануал по командам, а ключ к тому, чтобы понять, как работает парсер и сам
бот. Обязательно ознакомьтесь с ним, чтобы получить максимальную выгоду и уверенность в его использовании! **Перед
началом трейдинга не забудьте поменять валюты на Lis-Skins и Market.CS в доллары, чтобы не терять ликвидность при
конвертации валют**
<div style="text-align: center;">
  <img width="200" src="./images/warning.png" alt="Предупреждение перед началом трейдинга">
</div>

- [ОБЩИЕ КОМАНДЫ](#общие-команды)
    - [Общая информация об аккаунте](#общая-информация-об-аккаунте)
- [КАК РАБОТАЕТ БОТ АВТОПОКУПКИ](#как-работает-бот-автопокупки)
    - [Настройка фильтров для поиска предметов](#настройка-фильтров-для-поиска-предметов)
    - [Список команд](#список-команд)
        - [Запрос доступа для роли FULL](#запрос-доступа-для-роли-full)
        - [Заполнение обязательных полей](#заполнение-обязательных-полей)
        - [Черный список](#исключаемые-слова-черный-список)
        - [Белый список](#включаемые-слова-белый-список)
        - [Выбор функции корректировки AutoBuy](#выбор-функции-корректировки-autobuy)
        - [Выбор режима дублирования покупок](#выбор-режима-дублирования-покупок)
        - [Мониторинг новых предметов](#мониторинг-новых-предметов)
        - [Добавление API-ключей](#добавление-api-ключей-autobuy)
- [КАК РАБОТАЕТ БОТ АВТОПРОДАЖИ](#как-работает-бот-автопродажи)
    - [Заполнение обязательных полей](#заполнение-обязательных-полей-1)
    - [Управление автопродажами](#управление-автопродажами)
        - [Получение информации о предметах](#получение-информации-о-предметах)
        - [Управление AutoSell через Excel-шаблоны](#управление-автопродажами-через-excel-шаблоны)
    - [Добавление API-ключей Market.CS](#добавление-api-ключей-marketcs)
- [КАК РАБОТАЕТ ПАРСЕР](#как-работает-парсер)
    - [По уровню риска](#по-уровню-риска)
    - [По ценовым категориям](#по-ценовым-категориям)
    - [По типам оружия](#по-типам-оружия)
    - [По уровню прибыли](#по-уровню-прибыли)
    - [По повторяемости предметов](#по-повторяемости-предметов)
- [ФИНАЛЬНАЯ АКТИВАЦИЯ](#финальная-активация)

## ОБЩИЕ КОМАНДЫ

Все пользователи с ролью **FULL** могут использовать эти команды.

| Команда              | Описание                             | Пример использования                                                    |
|----------------------|--------------------------------------|-------------------------------------------------------------------------|
| `/get_sub`           | Запросить полный доступ              | `/get_sub`                                                              |
| `/get_price`         | Узнать текущую среднюю цену подписки | `/get_price`                                                            |
| `/buy_balance_set`   | Установить баланс для AutoBuy        | `/buy_balance_set 1000` — отправить на баланс AutoBuy $1000             |
| `/buy_balance_take`  | Снять остаток баланса AutoBuy        | `/buy_balance_take 1000` — восставновить счет аккаунта на $1000 баланса |
| `/sell_balance_set`  | Установить баланс для AutoSell       | `/sell_balance_set 500`                                                 |
| `/sell_balance_take` | Снять остаток баланса AutoSell       | `/sell_balance_take 500`                                                |

> **Совет**: проверяйте баланс перед стартом автотрейда, чтобы избежать ошибок.

### Общая информация об аккаунте

Для получения общей информации об аккаунте, вы можете использовать следующие команды:

| Команда              | Описание                                             | Пример                                 |
|----------------------|------------------------------------------------------|----------------------------------------|
| `/view_acc_info`     | Узнать оставшиеся дни подписки                       | `/view_acc_info`                       |
| `/parameters_get`    | Показать текущие настройки автотрейда                | `/parameters_get`                      |
| `/parameters_list`   | Список всех наборов параметров                       | `/parameters_list`                     |
| `/parameters_create` | Создать новый набор параметров                       | `/parameters_create <имя_набор>`       |
| `/parameters_switch` | Переключиться на другие параметры                    | `/parameters_switch <id_набора>`       |
| `/parameters_copy`   | Позволяет скопировать параметры (частично/полностью) | `/parameters_copy <params-id> <режим>` |
| `/parameters_delete` | Удаляет параметры, если они не последние             | `/parameters_delete`                   |

Существует несколько режимов копирования параметров:

| Режим | Описание                                 |
|-------|------------------------------------------|
| 0     | Полное копирование параметров            |
| 1     | Копирование основных настроек параметров |
| 2     | Копирование только исключаемых слов      |
| 3     | Копирование только включаемых слов       |
| 4     | Копирование всех profit-id               |

**Параметры** — это отдельные **«направления» торговли**.  
Вы можете создавать несколько наборов параметров и переводить между ними баланс, чтобы одновременно:

- работать по разным **стратегиям**,
- торговать на разных **рынках**,
- распределять средства и настраивать уникальные подходы под каждый **токен**.

> **Что это даёт?**
> - Гибкость в управлении балансом
> - Возможность тестировать разные методы торговли
> - Одновременную работу по нескольким направлениям без смешения настроек

**К параметрам** можно присоединять **токены** выбранных **направлений**:

- **покупок**
- **продаж**

Это позволяет:

- грамотно **распределять средства**
- управлять **разными аккаунтами**
- изолировать **риски** по отдельным стратегиям

## КАК РАБОТАЕТ БОТ АВТОПОКУПКИ

Бот помогает автоматически покупать предметы с различных площадок. Он настроен так, чтобы **автоматически, за вас,
искать и покупать лучшие предметы быстрее других**, а также **избегать покупок с маленькой выгодой и учитывать риски** —
например, как долго нужно ждать предмет или как меняются цены на рынке. Ниже объясняются основные принципы его ее
работы.

### Настройка фильтров для поиска предметов

Команды, которые были реализованы в боте помогают вам защитить себя от покупки опасных предметов. Параметры, которые вы
можете настроить, включают в себя следующие возможности:

1. Подбор **минимальной** и **максимальной цены** помогает вам подбирать идеальный интервал цены покупки **по цене
   площадки покупки**.

2. Выбор **минимальной** и **максимальной популярности** предмета помогает боту выбирать предметы **настолько популярные
   предметы, насколько часто вам нужно**, чтобы их покупали на Market.CSGO.

3. **Выбор минимального профита** позволяет вам отбирать **предметы с бóльшим профитом**.

   **Осторожно!** Чем выше профит вы ставите, тем реже вы будете покупать предметы.

   **Профит** считается как отношение **минимального** из: **средней цены** за последний месяц или **текущей цены, к
   цене покупки на площадке в параметрах**, а также **с учетом комиссии в 5% на продажу и 5% на вывод средств**.

4. **Выбор минимального процента AutoBuy** для пользователя находится между 80 и 110. **Меньшее значение** процента
   **означает большую защищенность** от скачков рынка и **большую выгоду** по отношению к таким рынкам как: **BUFF163**
   и **CS.FLOAT**, потому что трейдеры, закупающие на Market.CSGO часто ориентируются именно на эти рынки при
   выставлении ордеров.

   **Осторожно!** Чем ниже процент AutoBuy - тем реже вы будете покупать предметы.

   **Процент AutoBuy** считается как отношение цены на **площадке покупки** к цене **автопокупки на площадке продажи**.

5. Редактирование значения **минимального и максимального количество дней задержки** позволит вам не покупать предметы,
   которые вы не хотите долго ждать или закупать их в удобный момент времени. **Помогает в ситуациях, когда рынок
   слишком изменчив**, что может вас обезопасить от длинных ожиданий в нежеланное время или когда вы не можете принять
   предмет.

   **Осторожно!** Чем меньше дней задержки вы ставите, тем реже вы будете покупать предметы.

6. **Настройка максимального количества дупликатов** позволяет вам контролировать, **сколько одинаковых предметов бот
   может приобрести**. Это полезно, если вы хотите избежать избыточного накопления одного типа предметов или, наоборот,
   сосредоточиться на массовой закупке.

   **Осторожно!** Если установить значение 0, бот полностью исключит возможность покупки одинаковых предметов.

7. **Редактирование коэффициента манипуляции** позволяет боту учитывать резкие колебания цен и **избегать подозрительных
   предложений**. Этот параметр **помогает минимизировать риск** покупки нестабильных позиций, защищая вас от возможных
   манипуляций на рынке.

   **Осторожно!** Чем меньше значение коэффициента, тем строже бот будет фильтровать нестабильные предложения, что может
   сократить количество доступных для покупки предметов.

8. **Определение функции задержки** вкупе с максимальным количеством дней задержки **позволит сгладить временной
   промежуток до разбана предмета**.

9. **Оценка тренда имеет важную роль для понимания тенденций рынка**. В разные сезоны рынок имеет разные тенденции и для
   того, **чтобы заранее отсеивать** излишком раздутые позиции или позиции с временно-низким спросом, **важно управлять
   и менять данную оценку**.

<div style="text-align: center;">
  <img src="./images/2.png" alt="Виды корректирующих функций и как выглядит коэффициент уменьшения профита" width="1000">
</div>

Корректирующие функции существует несколько видов:

- **Линейная** — параметры **изменяются равномерно**.
- **Экспоненциальная** — **параметры изменяются быстрее** с увеличением значений.
- **Логарифмическая** — изменения происходят **с замедлением**.
- **Прогнозная** — **умная функция**, которая подстраивает параметры на основе анализа рынка, чтобы **предсказать
  выгодные изменения**.
- Либо **можно вообще не задавать функцию**, если вам такой режим работы не удобен.

Использование этих параметров поможет вам сделать работу бота максимально эффективной и настроить его так, чтобы он
точно соответствовал вашим ожиданиям. С их помощью бот сможет автоматически находить самые выгодные предложения и
обеспечивать стабильный результат на рынке. **Такой подход превращает бота в мощный инструмент для торговли и анализа
трендов, экономя ваше время и увеличивая прибыль**.

### Список команд

В этой секции вы найдёте список доступных команд, которые помогут вам настроить и использовать бота для максимальной
эффективности. Ознакомьтесь с командами, чтобы лучше понять, как использовать все возможности бота.

#### Запрос доступа для роли FULL

Для получения роли FULL сначала необходимо отправить запрос администратору (в описании бота ссылка на ТГ). Выполните
команду:
`/get_sub`

<div style="text-align: center;">
  <img src="./images/3.png" alt="Отправка запроса администратору" width="500">
</div>

Запрос попадет к администратору, который рассмотрит его и предоставит вам доступ. После подтверждения вы получите все
необходимые права для работы с ботом.

<div style="text-align: center;">
  <img src="./images/4.png" alt="Администратор выдал вам роль FULL" width="500">
</div>

#### Заполнение обязательных полей

После подтверждения доступа заполните обязательные поля, чтобы бот корректно работал.

**Оценка рентабельности (Profit Scoring)** — позволяет задать одно или несколько правил оценки выгодности покупки.
Каждое правило включает тип расчёта и минимальный процент маржи (`minProfit`), при котором покупка считается выгодной.
Учитываются комиссии и другие параметры. Доступные типы: `SINGLE`, `GROUP`, `MEAN`. **Старайтесь использовать комбинацию
нескольких profit-id для повышения объективности оценки позиции при покупке**.

```text
/scoring_add <SINGLE/GROUP/MEAN> <minProfit>
Добавляет новое правило оценки профита. Пример: /scoring_add single 110

/scoring_edit <profit-ID> <атрибут> <значение>
Изменяет значение атрибута для существующего правила по ID (таблица с атрибутами ниже). Пример: /scoring_edit 2 minProfit 105

/scoring_remove <profit-ID>
Удаляет правило оценки профита по ID. Пример: /scoring_remove 2
```

| Атрибут     | Значение                                                                                                                                                                                     |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `minProfit` | Минимальное значение доходности для предмета                                                                                                                                                 |
| `period`    | Атрибут отвечает за период оценивания и используется только для profit-id типа **MEAN**. Например: period = 15 означает, что для сравнения средней цены будет использоваться период в 15 дн. |

Для обновления настроек параметров, выполните команду:
`/help_update_autobuy`

<div style="text-align: center;">
  <img src="./images/5.png" alt="Возможные поля для редактирования AutoBuy" width="400">
</div>

**Минимальная цена (minPrice)** — Устанавливает минимальную цену предметов для покупки. Уменьшение значения **minPrice**
позволяет фокусироваться на более доступных предметах.

```text
/update_field minPrice <цена в $>
Пример: /update_field minPrice 10
```

**Максимальная цена (maxPrice)** — Устанавливает максимальную цену предметов для покупки. Увеличение значения **maxPrice
** позволяет фокусироваться на менее доступных предметах.

```text
/update_field maxPrice <цена в $>
Пример: /update_field maxPrice 200
```

**Минимальный процент AutoBuy (maxAutoBuyPercent)** — Указывает минимальное соотношение цены на площадке покупки к цене
автопокупки на площадке продажи. Чем ниже это значение, тем более рискованные предложения может рассмотреть бот. **НЕ
РЕКОМЕНДУЕТСЯ УСТАНАВЛИВАТЬ ЗНАЧЕНИЕ МЕНЬШЕ 97% И БОЛЬШЕ 102%**, если вы не преследуете цель ловли отдельных,
определенных редких коэффициентов или предметов. Чем ниже значение, тем более выгодные позиции будет выбирать бот, но
тем меньше предложений бот будет рассматривать.

```text
/update_field maxAutoBuyPercent <выкуп в %>
Пример: /update_field maxAutoBuyPercent 97,5
```

**Минимальное количество продаж в месяц (minPopularity)** — Задает минимальное количество продаж в месяц для предмета.
Позволяет ограничить покупки менее популярных предметов.

```text
/update_field minPopularity <продаж в месяц>  
Пример: /update_field minPopularity 50
```

**Максимальное количество продаж в месяц (maxPopularity)** — Устанавливает верхний предел популярности для покупок. Этот
параметр ограничивает покупку слишком популярных предметов.

```text
/update_field maxPopularity <продаж в месяц> 
Пример: /update_field maxPopularity 500
```

**Минимальное время удержания (minDaysHold)** — задаёт минимальное количество дней, на которое площадка покупки будет
задерживать предмет перед получением.  
Допустимое значение: от **0** до **maxDaysHold** включительно.

```text
/update_field minDaysHold <дней на удержании>
Пример: /update_field minDaysHold 2
```

**Максимальное количество дней удержания (maxDaysHold)** — Задает предельное количество дней задержки перед получением.
Этот фильтр позволяет выбирать такие предметы, что они быстрее попадут вам в инвентарь. Допустимое значение — от *
*minDaysHold** до **8** дней.

```text
/update_field maxDaysHold <дней на удержании>
Пример: /update_field maxDaysHold 8
```

**Переключить тип функции расчета AutoBuy (correctionCoefficient)** — Эта команда позволяет выбрать, как будет
изменяться расчет прибыли и AutoBuy в зависимости от того, сколько дней нужно ждать. Вы можете настроить, чтобы
изменения происходили быстрее или медленнее, в зависимости от вашего выбора.

```text
/update_field correctionCoefficient <коэффициент коррекции>
Пример: /update_field correctionCoefficient 95
```

**Коэффициент манипуляции (manipulationCoeff)** — Используется для оценки подозрительных изменений цены и выявления
манипуляций на рынке. Чем выше коэффициент, тем меньше вероятность принятия нестабильных предложений. Диапазон значений:
от 1 до 100.

```text
/update_field manipulationCoeff <коэффициент манипуляции> 
Пример: /update_field manipulationCoeff 20
```

**Максимальное количество одинаковых предметов (maxDuplicates)** — Настройка максимального количества дубликатов
позволяет **контролировать, сколько одинаковых предметов бот может приобрести — как в абсолютном числе** (например, не
более 5 штук одного предмета), так и **в процентном соотношении** (например, не более 10% от количества продаж предмета
за месяц). Это помогает избежать переизбытка одного типа лота или, наоборот, сосредоточиться на его массовом скупе.

```text
/update_field maxDuplicates <максимальное количество>
Пример: /update_field maxDuplicates 10
```

**Минимальный наклон тренда (minTrendScore)** — Эта настройка позволяет задать минимальное значение наклона тренда, ниже
которого бот не будет рассматривать предмет к покупке. Наклон тренда отражает изменение спроса или цены с течением
времени и помогает отсеивать позиции, интерес к которым стабильно падает. Минимальное значение: -100.

```text
/update_field minTrendScore <минимальный наклон тренда>
Пример: /update_field minTrendScore -10
```

**Минимальный наклон тренда (maxTrendScore)** — Эта настройка позволяет задать максимальное значение наклона тренда,
ниже
которого бот не будет рассматривать предмет к покупке. Наклон тренда отражает изменение спроса или цены с течением
времени и помогает отсеивать позиции, интерес к которым стабильно падает. Не может быть меньше minTrendScore.

```text
/update_field maxTrendScore <максимальный наклон тренда>
Пример: /update_field maxTrendScore -10
```

<div style="text-align: center;">
  <img src="./images/6.png" alt="Пример выставленных параметров">
</div>

Таким образом более точная настройка позволит адаптировать бота под те ценовые диапазоны и диапазоны спроса, которые
нужны именно вам!

#### Исключаемые слова (черный список)

Добавьте слова, которые бот будет игнорировать при автопокупке предметов.

##### Команды:

- **Добавление слова**  
  `/words_add_excluded <слово>`  
  _Пример:_ `/words_add_excluded StatTrak` - исключит предметы с пометкой StatTrak

- **Просмотр списка**  
  `/words_get_excluded`  
  _Формат вывода:_  
  `ID: 1 | Слово: StatTrak`  
  `ID: 2 | Слово: Souvenir`

- **Удаление слов**  
  `/words_remove_excluded [ID1 ID2 ... | all]`  
  _Варианты использования:_
    - `all`: удаляет все слова
    - Без параметров: удаляет все слова
    - С перечислением ID: удаляет только указанные слова  
      _Примеры:_  
      `/words_remove_excluded` - полная очистка  
      `/words_remove_excluded 1 3` - удалит слова с ID 1 и 3

#### Включаемые слова (белый список)

Добавьте слова для приоритетного поиска при автопокупке.

##### Команды:

- **Добавление слова**  
  `/words_add_included <слово>`  
  _Пример:_ `/words_add_included Dragon` - будет искать предметы с упоминанием Dragon

- **Просмотр списка**  
  `/words_get_included`  
  _Формат вывода:_  
  `ID: 1 | Слово: Dragon`  
  `ID: 2 | Слово: Lore`

- **Удаление слов**  
  `/words_remove_included [ID1 ID2 ... | all]`  
  _Варианты использования:_
    - `all`: удаляет все слова
    - Без параметров: удаляет все слова
    - С перечислением ID: удаляет только указанные слова  
      _Примеры:_  
      `/words_remove_included 2` - удалит слово с ID 2  
      `/words_remove_included all` - полная очистка

> **Примечание:**
> - Добавление возможно только по одному слову за команду
> - ID в выводе используются для внутренней логики бота
> - Регистр букв не учитывается при фильтрации

#### Выбор функции корректировки AutoBuy

Команда позволяет переключить тип функции, используемой для расчета параметров AutoBuy. `/switch_function_type`

<div style="text-align: center;">
  <img src="./images/11.png" alt="Смена выбранной функции корректировки">
</div>

Выберите подходящий вариант для оптимизации работы бота в зависимости от ваших предпочтений:

- **Линейная** — параметры изменяются равномерно.
- **Экспоненциальная** — параметры изменяются быстрее с увеличением значений.
- **Логарифмическая** — изменения происходят с замедлением.
- **Прогнозная** — параметры подстраиваются на основе автоматического анализа рынка.
- **Не задана** — функция не используется, параметры остаются неизменными.

Эта настройка поможет настроить более точный расчет AutoBuy в зависимости от ваших нужд.

#### Выбор режима дублирования покупок

Команда позволяет переключить режим, в котором бот ограничивает количество одинаковых предметов при AutoBuy. Это
влияет на стратегию скупки и помогает лучше контролировать ассортимент. `/switch_duplicate_mode`

<div style="text-align: center;">
  <img src="./images/12.png" alt="Смена выбранного режима дублирования">
</div>

- **Числовой** — задается максимальное количество копий одного предмета (например, не более 3 штук).
- **Процентный** — указывается доля от общего числа покупок (например, не более 10% на один тип предмета).

#### Выбор режима определения минимальной цены

Команда позволяет переключить метод определения минимальной цены. `/switch_eval_mode`

<div style="text-align: center;">
  <img src="./images/21.png" alt="Смена выбранного режима дублирования">
</div>

- **Стандартный** — использует только minProfit при автоматическом выставлении минимальной цены предмета.
- **Процентный** — использует коэффициент evalModeC1 при автоматическом выставлении минимальной цены предмета.

#### Мониторинг новых предметов

Команда отслеживает все предметы, появившиеся на торговых площадках за указанный период:  
`/get_newest_items <HOURS>`

**Параметры:**

- `HOURS` - период анализа в часах (1-24 часа)

**Формат вывода (Excel/CSV):**

| Поле               | Описание                         |
|--------------------|----------------------------------|
| Item Name          | Название предмета                |
| Avg Lis Price      | Средняя цена выставления         |
| Avg Single Price   | Средняя одиночная цена           |
| Min Single Percent | Минимальный % от одиночной цены  |
| Max Single Percent | Максимальный % от одиночной цены |
| Min Group Percent  | Мин. % групповой цены            |
| Max Group Percent  | Макс. % групповой цены           |
| Min Mean Percent   | Мин. % усредненной цены          |
| Max Mean Percent   | Макс. % усредненной цены         |
| Popularity         | Показатель популярности          |
| Update Count       | Количество обновлений цены       |

- Данные обновляются в реальном времени
- Максимальный период анализа - 24 часа

**Рекомендации:**

1. Используйте фильтрацию по Popularity для поиска ликвидных предметов
2. Сравнивайте Min/Max проценты для определения волатильности
3. Update Count показывает активность AutoBuy площадки по предмету

#### Добавление API-ключей AutoBuy

Для начала автопокупок добавьте API-ключ с помощью команды:

```text
/add_token_buy <TRADE_URL> <API_KEY>, где
<TRADE_URL> — ссылка для торговли на платформе.
<API_KEY> — ваш ключ для доступа.
```

Данные для заполнения API_KEY и TRADE_URL можно получить, перейдя по данным ссылкам:
> Lis-Skins: https://lis-skins.ru/profile/api/

<div style="text-align: center;">
  <img src="./images/14.png" alt="Данные для добавления ключа">
</div>

Чтобы просмотреть список всех добавленных API-ключей, используйте команду: `/get_tokens_buy`

<div style="text-align: center;">
  <img src="./images/15.png" alt="Пример вывода токенов">
</div>

Если требуется удалить API-токен AutoBuy, используйте команду:

`/remove_token_buy <ID_токена | all>`

**Варианты использования:**

- `all`: удалит все токены (требуется подтверждение)
- Без параметров: удалит все токены (требуется подтверждение)
- `<ID>`: удалит токен по ID

**Примеры:**

1. `/remove_token_buy 3` - удалит токен с ID 3
2. `/remove_token_buy all` - полная очистка всех токенов

> ℹ️ ID токенов можно посмотреть в выводе команды `/get_tokens_buy`

## КАК РАБОТАЕТ БОТ АВТОПРОДАЖИ

Бот помогает автоматически продавать на площадке Market.CS предметы, купленные ботом. Схема работы представлена ниже:

<div style="text-align: center;">
  <img src="./images/16.png" alt="Схема работы бота AutoSell">
</div>

Он настроен так, чтобы за вас выставлять предметы на продажу с учётом заданной прибыли, рыночной ситуации и времени
разблокировки. Бот избегает заниженных цен, учитывает рыночные тренды и помогает продавать быстрее и выгоднее.

### Заполнение обязательных полей

Для корректной работы AutoBuy следует настроить поля, указанные в команде: `/help_update_autosell`

<div style="text-align: center;">
  <img src="./images/17.png" alt="Возможные поля для редактирования AutoSell">
</div>

**Минимальный процент цены AutoSell (minAutoSellProfit)** — Задаёт минимальную прибыль, с которой бот будет
выставлять предмет на продажу. **Бот не будет выставлять цену ниже, чем минимальный процент цены AutoSell от цены
предмета**.

```text
/update_field minAutoSellProfit <от цены в %>
Пример: /update_field minAutoSellProfit 95
```

**Минимальный процент цены AutoSell (maxAutoSellProfit)** — Ограничивает максимально допустимую прибыль при
автоматической продаже. Это полезно для предотвращения выставления предмета по заведомо завышенной цене, которая может
отпугнуть покупателей. **Бот не будет выставлять цену выше, чем максимальный процент цены AutoSell от цены предмета
**.

```text
/update_field maxAutoSellProfit <от цены в %>
Пример: /update_field maxAutoSellProfit 200
```

**Коэффициент #1 evalMode (evalModeC1)** — Ограничивает жесткость определения минимальной цены. Чем больше коэффициент -
тем больше будет минимальная цена при автоматическом выставлении на продажу для предмета. Допустимые значения: от 1 до
99 включительно.

```text
/update_field evalModeC1 <коэфф.>
Пример: /update_field maxAutoSellProfit 70
```

### Управление автопродажами

#### Получение информации о предметах

- **`/tm_selling`**  
  Список всех предметов, которые сейчас выставлены на продажу  
  _Формат вывода:_ Excel-файл с колонками: `ID предмета | Название | Цена | Параметры`

- **`/tm_waiting`**  
  Список предметов в очереди на продажу  
  _Формат вывода:_ Excel-файл с колонками: `ID предмета | Название | Ожидаемая цена | Дата добавления`

- **`/tm_history <DAYS>`**  
  История проданных предметов  
  _Параметры:_  
  `DAYS` - количество дней для выборки (макс. 30)  
  _Формат вывода:_ Excel-файл с колонками: `ID сделки | Название | Цена продажи | Дата продажи`

#### Управление автопродажами через Excel-шаблоны

- **`/tm_upload`**  
  Генерирует шаблон для массового выставления предметов  
  _Как использовать:_
    1. Получить шаблон командой
    2. Заполнить колонки:
        - `min_price` - Минимальная цена выставляемого предмета
        - `max_price` - Максимальная цена выставляемого предмета
        - `bought_price` - Цена покупки предмета (опционально)
    3. Отправить файл боту в ответ на сообщение  
       _Поддерживаемые форматы:_ `.xlsx`
- **`/tm_change`**  
  Шаблон для изменения цен уже выставленных предметов  
  _Заполнить колонки:_
    - `new_min_price` - Минимальная цена выставляемого предмета
    - `new_max_price` - Максимальная цена выставляемого предмета
    - `new_bought_price` - Цена покупки предмета (опционально)
      _Важно:_ Изменения вступают в силу в течение 15 минут
- **`/tm_groups_change`**  
  Шаблон для изменения цен для групп выставленных предметов  
  _Заполнить колонки:_
    - `new_min_price` - Минимальная цена выставляемого предмета
    - `new_max_price` - Максимальная цена выставляемого предмета
    - `new_bought_price` - Цена покупки предмета (опционально)
      _Важно:_ Изменения вступают в силу в течение 15 минут
- **`/tm_restrict`**
  Шаблон для запрета выставления предметов на автопродажу
  _Заполнить колонки:_
    - `restricted` - Может принимать одно из двух значений: **TRUE** (при выборе) или **FALSE** для остальных предметов

### Добавление API-ключей Market.CS

Для того чтобы была возможность выставлять предметы на AutoSell и обновлять информацию об инвентаре, нужно добавить
API-ключ Market.CS:

```text
/add_token_sell <API_KEY>, где
<API_KEY> — ваш ключ для доступа к Market.CS.
```

<div style="text-align: center;">
  <img src="./images/19.png" alt="Пример добавления ключа">
</div>

Данные для заполнения **API_KEY** и **TRADE_URL** можно получить, перейдя по данной
ссылке: https://market.csgo.com/en/api/content/start#apigen

<div style="text-align: center;">
  <img src="./images/20.png" width="500" alt="Данные для добавления ключа Market.CS">
</div>

Добавленный ключ **автоматически** привязывается к соответствующему ключу AutoBuy, что позволяет **легко связать
работу по AutoBuy и AutoSell**, превращая их в единый цикл. В данном случае бот также учитывает ситуации, при
которых пользователь не забрал предмет или отсутствует в инвентаре по каким-либо другим причинам.

**Удаление ключа AutoSell возможно только при удалении ключа AutoBuy**, поскольку он к нему привязан. Данный аспект
важен в рамках реализации, поэтому добавляйте ключ внимательно.

## КАК РАБОТАЕТ ПАРСЕР

Приложение анализирует цены на внутриигровые предметы с разных торговых площадок, чтобы найти выгодные предложения для
покупки и продажи. Он собирает информацию о цене предмета, его популярности, а также рассчитывает, насколько выгодно его
продавать, учитывая текущие цены на разных платформах. Если цена предмета и его популярность говорят о том, что его
можно продать с прибылью, парсер добавляет этот предмет в очередь и отправляет уведомление в Telegram.

Вот как это работает:

1. Сначала парсер **получает цену и другие данные о предмете** с разных торговых сайтов.
2. Затем приложение **вычисляет разницу в ценах и прогнозирует**, насколько выгодно продавать предмет.
3. На основе полученных данных **парсер выбирает самые выгодные предложения**.
4. Если предмет выгоден для покупки и продажи, парсер **отправляет уведомление в Telegram**, чтобы пользователи могли
   принять решение о сделке.
5. Если коэффициент прибыли достаточно высокий, **парсер сразу же отправляет предложение в канал**, чтобы информировать
   всех участников, что сделка может быть выгодной.

Опубликованный пост содержит в себе все самое необходимое для анализа предмета: Стикеры на предмете, Lis-Skins и
Market.CSGO цены, цена автопокупки на Market.CSGO и средняя цена там же. Кроме этого **вы будете знать риск** позиции,
при ее покупке, а также знать, **насколько предмет популярен на рынке**.

<div style="text-align: center;">
  <img src="./images/1.png" alt="Формат предложения" width="400">
</div>

Для удобства работы, реализована система тегов, позволяющая пользователю отсортировать сообщения в телеграмм по нужным
ему критериям, а именно:

### По уровню риска

- Высокий риск: **#HighRisk**
- Средний риск: **#MediumRisk**
- Низкий риск: **#LowRisk**

### По ценовым категориям

- Менее 100: **#Below100**
- От 100 до 250: **#From100To250**
- От 250 до 500: **#From250To500**
- От 500 до 1000: **#From500To1000**
- От 1000 до 2500: **#From1000To2500**
- Более 2500: **#Above2500**

### По типам оружия

В зависимости от разновидности оружия, используются теги по конкретным типам, например:

- **#Karambit**
- **#M9Bayonet**
- **#ButterflyKnife** и **т.п.**

Если оружие не входит в известный список, используется тег: **#Other.**

### По уровню прибыли

В зависимости от коэффициента прибыли p:

- Высокая прибыль: **#HighProfit** (если p >= 1.15)
- Средняя прибыль: **#MediumProfit** (если p >= 1.10)
- Низкая прибыль: **#LowProfit** (если p < 1.10)

### По повторяемости предметов

В зависимости от того, было ли предложение замечено ранее в течение дня:

- Если предмет уже встречался сегодня: **#TodaysDuplicate**
- Если предмет новый: **#TodaysNew**

Использование этих инструментов позволяет идеально подобрать те предметы, которые вам нужны для успешной реализации
вашей торговой стратегии!

## ФИНАЛЬНАЯ АКТИВАЦИЯ

После настройки параметров выполните команды для запуска и остановки бота:

- Запустить AutoBuy: `/start_autobuy`
- Остановить AutoBuy: `/stop_autobuy`
- Запустить AutoSell: `/start_autosell`
- Остановить AutoSell: `/stop_autosell`

Следуя этим инструкциям, вы сможете удобно настроить автоматическую покупку предметов с учетом фильтров под ваши
предпочтения.

> Жизнь — это маленькая кухня, на которой мы готовим блюда под названием "счастье". На этой кухне мы сами себе
> шеф-повара, и только нам решать, какие ингредиенты мы будем добавлять в наши блюда. Важно помнить, что универсального
> рецепта нет, поэтому пробуйте и тогда, в конце, вас будет ждать награда.
(С) Поль Бокюз
---

## 📬 Контакты

- Разработчик
    - Telegram: [@a_matisse](http://www.t.me/a_matisse)
- Приобретение подписки
    - Telegram: [@MrTwisterService](http://www.t.me/MrTwisterService)
